"use strict";(self.webpackChunkslurp_recipes=self.webpackChunkslurp_recipes||[]).push([[875],{7407:function(e,t,n){var r=n(7294),o=n(1074),i=n(1852),a=o.default.span.withConfig({displayName:"ErrorText__ErrorBox",componentId:"sc-1y2t8tp-0"})(['display:flex;align-items:center;font-family:"Poppins",sans-serif;font-size:1.4rem;padding:1.3rem 0.8rem;margin:2rem 0;border-radius:',";background-color:",";color:",";"],(function(e){return e.theme.otherStyles.smallRadius}),(function(e){return e.theme.colors.errorColor}),(function(e){return e.theme.colors.white})),l=(0,o.default)(i.o86).withConfig({displayName:"ErrorText__ErrorIcon",componentId:"sc-1y2t8tp-1"})(["color:",";margin-right:0.8rem;"],(function(e){return e.theme.colors.white}));t.Z=function(e){var t=e.children;return r.createElement(a,null,r.createElement(l,null),t)}},6241:function(e,t,n){var r=n(7294),o=n(1074),i=o.default.div.withConfig({displayName:"LoadingPopup__Wrapper",componentId:"sc-kgjyit-0"})(["display:flex;position:fixed;flex-direction:column;align-items:center;justify-content:center;gap:1rem;margin:0 auto;height:160px;width:160px;border-radius:",";background-color:rgba(0,0,0,0.5);color:",";box-shadow:",";z-index:99999;"],(function(e){return e.theme.otherStyles.smallRadius}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.otherStyles.shadow})),a=(0,o.keyframes)(["from{transform:translate3d(-50%,-50%,0) rotate(0deg);}to{transform:translate3d(-50%,-50%,0) rotate(360deg);}"]),l=o.default.span.withConfig({displayName:"LoadingPopup__Circle",componentId:"sc-kgjyit-1"})(['height:40px;&::before{content:"";position:fixed;height:60px;width:60px;border:solid 8px ',";border-bottom-color:",";border-radius:",";animation:1.5s linear infinite ",";transform:translate3d(-50%,-50%,0);}"],(function(e){return e.theme.colors.darkGrey}),(function(e){return e.theme.colors.base}),(function(e){return e.theme.otherStyles.bigRadius}),a),s=o.default.p.withConfig({displayName:"LoadingPopup__LoadingText",componentId:"sc-kgjyit-2"})(["font-size:2.4rem;"]);t.ZP=function(){return r.createElement(i,null,r.createElement(l,null),r.createElement(s,null,"Czekaj.."))}},8070:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(7294),o=n(1074),i=n(5861),a=n(4687),l=n.n(a),s=n(6633),c=n.n(s),u=n(9188),d=n(5444),m=n(2338),p=n(2908),f=n(3602),h=n(7407),g=n(6241),y=function(){var e,t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useState)(!0),s=a[0],y=a[1],w=(0,r.useContext)(m.s).setIsAuthenticated,x=r.createRef({}),b=r.createRef({}),_=function(t,n){void 0===n&&(n=!1),"undefined"!=typeof window&&(!0===n?document.querySelector("input[id='"+t+"']").classList.remove("invalid"):((e=document.querySelector("input[id='"+t+"']")).classList.add("invalid"),e.setAttribute("className","invalid")))},E=function(){var e=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(!0),e.next=4,c().post("https://slurp-website.herokuapp.com/auth/local",{identifier:x.current.value,password:b.current.value}).then((function(e){localStorage.setItem("token",JSON.stringify(e.data.jwt)),localStorage.setItem("user",JSON.stringify(e.data.user.username)),o(!1),w(!0),(0,d.c4)("/")})).catch((function(e){o(!1),_("login"),_("password"),y(!1),w(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(p.JG,null,r.createElement(p.EL,null,"Zaloguj się."),r.createElement(p.yN,null,r.createElement(f.Z,{nameId:"login",content:"Login",ref:x}),r.createElement(f.Z,{nameId:"password",type:"password",content:"Hasło",ref:b}),s?null:r.createElement(h.Z,null,"Niepoprawny login lub hasło"),r.createElement(u.Z,{isLong:!0,type:"submit",onClick:function(e){return E(e)}},"Zaloguj się")),r.createElement(p.ap,{to:"/register"},"Nie masz konta? ",r.createElement(p.Np,null,"Zarejestruj się."))),n?r.createElement(g.ZP,null):null)},w=o.default.div.withConfig({displayName:"login__LoginWrapper",componentId:"sc-t1uti5-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:90vh;margin-top:7rem;background-color:",";@media only screen and (min-width:768px){padding:3rem;}"],(function(e){return e.theme.colors.base})),x=function(){return r.createElement(w,null,r.createElement(y,null))}},2908:function(e,t,n){n.d(t,{EL:function(){return a},Ff:function(){return u},JG:function(){return i},Np:function(){return c},ap:function(){return s},yN:function(){return l}});var r=n(5444),o=n(1074),i=o.default.div.withConfig({displayName:"joinPanelstyles__JoinPanelWrapper",componentId:"sc-bgpuzp-0"})(["position:relative;display:flex;flex-direction:column;align-content:center;justify-content:center;height:auto;width:100%;padding:3rem;border-radius:",";box-shadow:3px 2px 10px -3px ",";background-color:",";overflow:hidden;@media only screen and (min-width:768px){height:auto;max-width:600px;}"],(function(e){return e.theme.otherStyles.smallRadius}),(function(e){return e.theme.otherStyles.shadow}),(function(e){return e.theme.colors.white})),a=o.default.p.withConfig({displayName:"joinPanelstyles__JoinHeader",componentId:"sc-bgpuzp-1"})(["font-weight:300;font-size:3.2rem;color:",";"],(function(e){return e.theme.colors.fontColor})),l=o.default.form.withConfig({displayName:"joinPanelstyles__JoinForm",componentId:"sc-bgpuzp-2"})(["display:flex;flex-direction:column;padding-top:2rem;@media only screen and (min-width:768px){}"]),s=(0,o.default)(r.rU).withConfig({displayName:"joinPanelstyles__JoinLink",componentId:"sc-bgpuzp-3"})(["text-decoration:none;color:",";"],(function(e){return e.theme.colors.darkGrey})),c=o.default.span.withConfig({displayName:"joinPanelstyles__ColoredText",componentId:"sc-bgpuzp-4"})(["color:",";"],(function(e){return e.theme.colors.accent})),u=o.default.p.withConfig({displayName:"joinPanelstyles__PasswordInfoText",componentId:"sc-bgpuzp-5"})(["display:flex;align-items:flex-start;color:",";font-size:1.6rem;margin-bottom:1.6rem;"],(function(e){return e.theme.colors.darkGrey}))}}]);
//# sourceMappingURL=component---src-pages-login-js-35e9a0819ac3d8624457.js.map