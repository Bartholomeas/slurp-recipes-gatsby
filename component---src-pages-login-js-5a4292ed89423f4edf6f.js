"use strict";(self.webpackChunkslurp_recipes=self.webpackChunkslurp_recipes||[]).push([[875],{8070:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var o=t(7294),r=t(9),i=t(5861),a=t(7757),l=t.n(a),c=t(6633),s=t.n(c),u=t(9188),p=t(5444),d=t(2338),f=t(2908),m=t(3602),h=t(7407),g=function(){var e=(0,o.useState)(!1),n=e[0],t=e[1],r=(0,o.useContext)(d.s).setIsAuthenticated,a=o.createRef({}),c=o.createRef({}),g=function(){var e=(0,i.Z)(l().mark((function e(o){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),e.next=3,s().post("https://slurp-website.herokuapp.com/auth/local",{identifier:a.current.value,password:c.current.value}).then((function(e){console.log(e),localStorage.setItem("token",JSON.stringify(e.data.jwt)),localStorage.setItem("user",JSON.stringify(e.data.user.username)),r(!0),(0,p.c4)("/")})).catch((function(e){t(!0),console.log(n),r(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.createElement(f.JG,null,o.createElement(f.EL,null,"Zaloguj się."),n?o.createElement(h.Z,null,"Niepoprawny login lub hasło"):null,o.createElement(f.yN,null,o.createElement(m.Z,{nameId:"login",content:"Login",isError:n,ref:a}),o.createElement(m.Z,{nameId:"password",type:"password",content:"Hasło",isError:n,ref:c}),o.createElement(u.Z,{isLong:!0,type:"submit",onClick:function(e){return g(e)}},"Zaloguj się")),o.createElement(f.ap,{to:"/register"},"Nie masz konta? ",o.createElement(f.Np,null,"Zarejestruj się.")))},y=r.default.div.withConfig({displayName:"login__LoginWrapper",componentId:"sc-t1uti5-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:90vh;margin-top:7rem;background-color:",";@media only screen and (min-width:768px){padding:3rem;}"],(function(e){return e.theme.colors.greenish})),w=function(){return o.createElement(y,null,o.createElement(g,null))}},2908:function(e,n,t){t.d(n,{JG:function(){return i},EL:function(){return a},yN:function(){return l},ap:function(){return c},Np:function(){return s},Ff:function(){return u}});var o=t(5444),r=t(9),i=r.default.div.withConfig({displayName:"joinPanelstyles__JoinPanelWrapper",componentId:"sc-bgpuzp-0"})(["position:relative;display:flex;flex-direction:column;align-content:center;justify-content:center;height:auto;width:100%;padding:3rem;border-radius:6px;box-shadow:3px 2px 10px -3px ",";background-color:",";overflow:hidden;@media only screen and (min-width:768px){height:auto;max-width:600px;}"],(function(e){return e.theme.colors.shadow}),(function(e){return e.theme.colors.white})),a=r.default.p.withConfig({displayName:"joinPanelstyles__JoinHeader",componentId:"sc-bgpuzp-1"})(["font-weight:300;font-size:3.2rem;color:",";"],(function(e){return e.theme.colors.fontColor})),l=r.default.form.withConfig({displayName:"joinPanelstyles__JoinForm",componentId:"sc-bgpuzp-2"})(["display:flex;flex-direction:column;padding-top:2rem;@media only screen and (min-width:768px){}"]),c=(0,r.default)(o.rU).withConfig({displayName:"joinPanelstyles__JoinLink",componentId:"sc-bgpuzp-3"})(["text-decoration:none;color:",";"],(function(e){return e.theme.colors.darkGrey})),s=r.default.span.withConfig({displayName:"joinPanelstyles__ColoredText",componentId:"sc-bgpuzp-4"})(["color:",";"],(function(e){return e.theme.colors.secondaryColor})),u=r.default.p.withConfig({displayName:"joinPanelstyles__PasswordInfoText",componentId:"sc-bgpuzp-5"})(["display:flex;align-items:flex-start;color:",";font-size:1.6rem;margin-bottom:1.6rem;"],(function(e){return e.theme.colors.darkGrey}))}}]);
//# sourceMappingURL=component---src-pages-login-js-5a4292ed89423f4edf6f.js.map