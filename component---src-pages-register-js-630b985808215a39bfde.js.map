{"version":3,"file":"component---src-pages-register-js-630b985808215a39bfde.js","mappings":"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","sources":["webpack://slurp-recipes/./src/components/atoms/ErrorText/ErrorText.js","webpack://slurp-recipes/./src/components/organisms/NotificationPopup/NotificationPopup.js","webpack://slurp-recipes/./src/components/organisms/RegisterPanel/RegisterPanel.js","webpack://slurp-recipes/./src/pages/register.js","webpack://slurp-recipes/./src/styles/joinPanel.styles.js"],"sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { BsExclamationCircle } from \"react-icons/bs\"\n\nconst ErrorBox = styled.span`\n  display: flex;\n  align-items: center;\n\n  font-size: 1.6rem;\n  padding: 1.6rem 0.8rem;\n  margin: 2rem 0;\n  border-radius: 6px;\n  background-color: ${({ theme }) => theme.colors.errorColor};\n  color: ${({ theme }) => theme.colors.white};\n`\n\nconst ErrorIcon = styled(BsExclamationCircle)`\n  color: ${({ theme }) => theme.colors.white};\n  margin-right: 0.8rem;\n`\n\nconst ErrorText = ({ children }) => {\n  return (\n    <ErrorBox>\n      <ErrorIcon />\n      {children}\n    </ErrorBox>\n  )\n}\n\nexport default ErrorText\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport Button from \"../../atoms/Button/Button\"\nimport { AiOutlineCheckCircle } from \"react-icons/ai\"\n\nexport const Wrapper = styled.div`\n  position: absolute;\n  height: auto;\n  max-height: 200px;\n  max-width: 300px;\n  width: 100%;\n  padding: 2rem;\n  border-radius: 6px;\n  left: 50%;\n  top: 50%;\n  transform: translate(\n    ${({ isActive }) => (isActive ? \"-50%, 50%\" : \"-50%, 400px\")}\n  );\n  background-color: ${({ theme }) => theme.colors.lightGrey};\n  color: ${({ theme }) => theme.colors.fontColor};\n  box-shadow: 3px 2px 10px -3px ${({ theme }) => theme.colors.shadow};\n  border: 1px solid green;\n  transition: transform 0.3s ease-in-out;\n`\nexport const Title = styled.p`\n  border-bottom: 1px solid green;\n  color: ${({ theme }) => theme.colors.darkerSecondary};\n  text-align: center;\n  font-size: 2rem;\n  padding-bottom: 1rem;\n`\nexport const TextContainer = styled.div`\n  padding-top: 1.6rem;\n`\nexport const Text = styled.p`\n  font-size: 1.5rem;\n  font-family: \"Poppins\", sans-serif;/\n`\n\nexport const PopupBtn = styled(Button)`\n  border: none;\n  background-color: ${({ theme }) => theme.colors.offGreenish};\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.secondaryColor};\n  }\n`\n\nconst NotificationPopup = ({ children, isActive = false, onClick }) => {\n  return (\n    <Wrapper isActive={isActive}>\n      <Title>\n        <AiOutlineCheckCircle /> Sukces!\n      </Title>\n      <TextContainer>\n        <Text>{children}</Text>\n      </TextContainer>\n      <PopupBtn onClick={onClick} isLong>\n        Ok\n      </PopupBtn>\n    </Wrapper>\n  )\n}\n\nexport default NotificationPopup\n","import React, { useState } from \"react\"\nimport axios from \"axios\"\nimport { navigate } from \"gatsby\"\nimport FormField from \"../../molecules/FormField/FormField\"\nimport Button from \"../../atoms/Button/Button\"\nimport NotificationPopup from \"../../organisms/NotificationPopup/NotificationPopup\"\nimport {\n  JoinPanelWrapper,\n  JoinHeader,\n  JoinForm,\n  JoinLink,\n  ColoredText,\n  PasswordInfoText,\n} from \"../../../styles/joinPanel.styles\"\nimport { AiOutlineQuestionCircle as QuestionIcon } from \"react-icons/ai\"\nimport ErrorText from \"../../atoms/ErrorText/ErrorText\"\n\nconst RegisterPanel = () => {\n  const [registerInfo, setRegisterInfo] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n  })\n  const [errorMessage, setErrorMessage] = useState(\"\")\n  const [isValid, setIsValid] = useState(true)\n  const [isPopupActive, setIsPopupActive] = useState(false)\n\n  const mailRegex = new RegExp(\n    \"([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|\\\"([]!#-[^-~ \\t]|(\\\\[\\t -~]))+\\\")@([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|[[\\t -Z^-~]*])\"\n  )\n  const passwordRegex = new RegExp(\"(?=.*[A-Z])(?=.*[a-z])(?=.*?[0-9])\")\n\n  const togglePopup = () => {\n    setIsPopupActive(!isPopupActive)\n\n    setTimeout(() => {\n      navigate(`/login`)\n    }, 3000)\n  }\n\n  // Aktualizacja stanu inputów\n  const updateInput = e => {\n    setRegisterInfo({ ...registerInfo, [e.target.name]: e.target.value })\n  }\n\n  // Walidacja formularza\n  const validateForm = () => {\n    // e.preventDefault()\n    errorInputsArray = []\n\n    // Walidacja nazwy uzytkownika\n    if (registerInfo[\"username\"] != \"\") {\n      setErrorStatus(\"username\", true)\n      setIsValid(true)\n    } else {\n      setErrorStatus(\"username\")\n      setErrorMessage(\"Nazwa użytkownika nie może być pusta\")\n      setIsValid(false)\n    }\n\n    // Walidacja email\n    if (mailRegex.test(registerInfo[\"email\"])) {\n      setErrorStatus(\"email\", true)\n    } else {\n      setErrorStatus(\"email\")\n      setErrorMessage(\"Adres e-mail niepoprawny\")\n      setIsValid(false)\n    }\n    // Walidacja hasła\n    if (passwordRegex.test(registerInfo[\"confirm_password\"])) {\n      if (registerInfo[\"password\"] === registerInfo[\"confirm_password\"]) {\n        setErrorStatus(\"password\", true)\n        setErrorStatus(\"confirm_password\", true)\n      } else {\n        setErrorStatus(\"password\")\n        setErrorStatus(\"confirm_password\")\n        setErrorMessage(\"Hasło musi zawierać conajmniej 1 cyfrę i duza literę\")\n        setIsValid(false)\n        return false\n      }\n    } else if (registerInfo[\"password\"].length < 8) {\n      console.log(\"Haslo za krotkie\")\n      setErrorStatus(\"password\")\n      setErrorStatus(\"confirm_password\")\n      setErrorMessage(\"Hasło za krótkie, musi mieć conajmniej 8 znaków\")\n      setIsValid(false)\n      return false\n    } else {\n      setErrorStatus(\"password\")\n      setErrorStatus(\"confirm_password\")\n      setErrorMessage(\"Hasła się różnią\")\n      setIsValid(false)\n      return false\n    }\n\n    return\n  }\n\n  // Wysłanie zapytania z rejestracją\n  const registerUser = async e => {\n    e.preventDefault()\n\n    validateForm()\n    if (isValid) {\n      await axios\n        .post(`${process.env.STRAPI_URL}/auth/local/register`, registerInfo)\n        .then(res => {\n          togglePopup()\n          console.log(res)\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  let errorInput = \"\"\n  let errorInputsArray = []\n\n  const setErrorStatus = (inputName, remove = false) => {\n    if (typeof window !== \"undefined\") {\n      if (remove === true) {\n        document\n          .querySelector(`input[id='${inputName}']`)\n          .classList.remove(\"invalid\")\n      } else {\n        errorInput = document.querySelector(`input[id='${inputName}']`)\n        errorInput.classList.add(\"invalid\")\n        errorInput.setAttribute(\"className\", \"invalid\")\n        errorInputsArray.push(errorInput)\n      }\n    }\n  }\n\n  return (\n    <JoinPanelWrapper>\n      <JoinHeader>Zarejestruj się.</JoinHeader>\n      <JoinForm>\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"username\"\n          content=\"Nazwa użytkownika\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"email\"\n          type=\"email\"\n          content=\"E-mail\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"password\"\n          type=\"password\"\n          content=\"Hasło\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"confirm_password\"\n          type=\"password\"\n          content=\"Powtórz hasło\"\n        />\n        <PasswordInfoText>\n          <QuestionIcon style={{ marginRight: \"1rem\" }} />\n          Hasło musi zawierać conajmniej 8 znaków w tym przynajmniej jedną cyfrę\n          i wielką literę\n        </PasswordInfoText>\n        {!isValid ? <ErrorText>{errorMessage}</ErrorText> : null}\n\n        <Button onClick={e => registerUser(e)} type=\"submit\" isLong>\n          Zarejestruj\n        </Button>\n      </JoinForm>\n      <JoinLink to=\"/login\">\n        Masz konto? <ColoredText>Zaloguj się.</ColoredText>\n      </JoinLink>\n      <NotificationPopup onClick={togglePopup} isActive={isPopupActive}>\n        Gratulacje, rejestracja przebiegła pomyślnie, zostaniesz przeniesiony na\n        stronę logowania\n      </NotificationPopup>\n    </JoinPanelWrapper>\n  )\n}\n\nexport default RegisterPanel\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport RegisterPanel from \"../components/organisms/RegisterPanel/RegisterPanel\"\n\nconst RegisterWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  margin-top: 7rem;\n  background-color: ${({ theme }) => theme.colors.greenish};\n\n  @media only screen and (min-width: 768px) {\n    padding: 3rem;\n  }\n`\n\nconst Register = () => {\n  return (\n    <RegisterWrapper>\n      <RegisterPanel />\n    </RegisterWrapper>\n  )\n}\n\nexport default Register\n","import { Link } from \"gatsby\"\nimport styled from \"styled-components\"\n\nexport const JoinPanelWrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  height: auto;\n  width: 100%;\n  padding: 3rem;\n  border-radius: 6px;\n  box-shadow: 3px 2px 10px -3px ${({ theme }) => theme.colors.shadow};\n  background-color: ${({ theme }) => theme.colors.white};\n  overflow: hidden;\n\n  @media only screen and (min-width: 768px) {\n    height: auto;\n    max-width: 600px;\n  }\n`\nexport const JoinHeader = styled.p`\n  font-weight: 300;\n  font-size: 3.2rem;\n  color: ${({ theme }) => theme.colors.fontColor};\n`\nexport const JoinForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  padding-top: 2rem;\n\n  @media only screen and (min-width: 768px) {\n  }\n`\nexport const JoinLink = styled(Link)`\n  text-decoration: none;\n  color: ${({ theme }) => theme.colors.darkGrey};\n`\nexport const ColoredText = styled.span`\n  color: ${({ theme }) => theme.colors.secondaryColor};\n`\nexport const PasswordInfoText = styled.p`\n  display: flex;\n  align-items: flex-start;\n  color: ${({ theme }) => theme.colors.darkGrey};\n  font-size: 1.6rem;\n  margin-bottom: 1.6rem;\n`\n"],"names":["ErrorBox","styled","theme","colors","errorColor","white","ErrorIcon","BsExclamationCircle","children","Wrapper","isActive","lightGrey","fontColor","shadow","Title","darkerSecondary","TextContainer","Text","PopupBtn","Button","offGreenish","secondaryColor","onClick","isLong","useState","username","email","password","confirm_password","registerInfo","setRegisterInfo","errorMessage","setErrorMessage","isValid","setIsValid","isPopupActive","setIsPopupActive","mailRegex","RegExp","passwordRegex","togglePopup","setTimeout","navigate","updateInput","e","target","name","value","registerUser","preventDefault","errorInputsArray","setErrorStatus","test","length","console","log","axios","process","then","res","catch","err","errorInput","inputName","remove","window","document","querySelector","classList","add","setAttribute","push","FormField","onChange","nameId","content","type","style","marginRight","ErrorText","to","RegisterWrapper","greenish","JoinPanelWrapper","JoinHeader","JoinForm","JoinLink","Link","darkGrey","ColoredText","PasswordInfoText"],"sourceRoot":""}