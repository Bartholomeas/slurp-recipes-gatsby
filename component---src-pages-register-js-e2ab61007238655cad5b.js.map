{"version":3,"file":"component---src-pages-register-js-e2ab61007238655cad5b.js","mappings":"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","sources":["webpack://slurp-recipes/./src/components/atoms/ErrorText/ErrorText.js","webpack://slurp-recipes/./src/components/organisms/NotificationPopup/NotificationPopup.js","webpack://slurp-recipes/./src/components/organisms/RegisterPanel/RegisterPanel.js","webpack://slurp-recipes/./src/pages/register.js","webpack://slurp-recipes/./src/styles/joinPanel.styles.js"],"sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { BsExclamationCircle } from \"react-icons/bs\"\n\nconst ErrorBox = styled.span`\n  display: flex;\n  align-items: center;\n  font-family: \"Poppins\", sans-serif;\n  font-size: 1.4rem;\n  padding: 1.3rem 0.8rem;\n  margin: 2rem 0;\n  border-radius: ${({ theme }) => theme.otherStyles.smallRadius};\n  background-color: ${({ theme }) => theme.colors.errorColor};\n  color: ${({ theme }) => theme.colors.white};\n`\n\nconst ErrorIcon = styled(BsExclamationCircle)`\n  color: ${({ theme }) => theme.colors.white};\n  margin-right: 0.8rem;\n`\n\nconst ErrorText = ({ children }) => {\n  return (\n    <ErrorBox>\n      <ErrorIcon />\n      {children}\n    </ErrorBox>\n  )\n}\n\nexport default ErrorText\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport Button from \"../../atoms/Button/Button\"\nimport { AiOutlineCheckCircle } from \"react-icons/ai\"\n\nexport const Wrapper = styled.div`\n  position: fixed;\n  height: auto;\n  width: 300px;\n  /* width: 100%; */\n  max-height: 230px;\n  /* max-width: 300px; */\n  padding: 2rem;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) scale(${({ isActive }) => (isActive ? \"1\" : \"0\")});\n  transform-origin: bottom;\n  background-color: ${({ theme }) => theme.colors.white};\n  color: ${({ theme }) => theme.colors.fontColor};\n  box-shadow: 3px 2px 10px -3px ${({ theme }) => theme.otherStyles.shadow};\n  border: 1px solid green;\n  border-radius: ${({ theme }) => theme.otherStyles.smallRadius};\n  transition: transform 0.1s ease;\n`\nexport const Title = styled.p`\n  border-bottom: 1px solid green;\n  color: ${({ theme }) => theme.colors.accent};\n  text-align: center;\n  font-size: 2rem;\n  padding-bottom: 1rem;\n`\nexport const TextContainer = styled.div`\n  padding-top: 1.6rem;\n`\nexport const Text = styled.p`\n  font-size: 1.5rem;\n  font-family: \"Poppins\", sans-serif;\n`\n\nexport const PopupBtn = styled(Button)`\n  border: none;\n  background-color: ${({ theme }) => theme.colors.base};\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.accent};\n  }\n`\n\nconst NotificationPopup = ({ children, isActive = false, onClick }) => {\n  return (\n    <Wrapper isActive={isActive}>\n      <Title>\n        <AiOutlineCheckCircle /> Sukces!\n      </Title>\n      <TextContainer>\n        <Text>{children}</Text>\n      </TextContainer>\n      <PopupBtn onClick={onClick} isLong>\n        Ok\n      </PopupBtn>\n    </Wrapper>\n  )\n}\n\nexport default NotificationPopup\n","import React, { useState } from \"react\"\nimport axios from \"axios\"\nimport { navigate } from \"gatsby\"\nimport FormField from \"../../molecules/FormField/FormField\"\nimport Button from \"../../atoms/Button/Button\"\nimport NotificationPopup from \"../../organisms/NotificationPopup/NotificationPopup\"\nimport {\n  JoinPanelWrapper,\n  JoinHeader,\n  JoinForm,\n  JoinLink,\n  ColoredText,\n  PasswordInfoText,\n} from \"../../../styles/joinPanel.styles\"\nimport { AiOutlineQuestionCircle as QuestionIcon } from \"react-icons/ai\"\nimport ErrorText from \"../../atoms/ErrorText/ErrorText\"\n\nconst RegisterPanel = () => {\n  const [registerInfo, setRegisterInfo] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n  })\n  const [errorMessage, setErrorMessage] = useState(\"\")\n  const [isValid, setIsValid] = useState(true)\n  const [isPopupActive, setIsPopupActive] = useState(false)\n\n  const mailRegex = new RegExp(\n    \"([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|\\\"([]!#-[^-~ \\t]|(\\\\[\\t -~]))+\\\")@([!#-'*+/-9=?A-Z^-~-]+(.[!#-'*+/-9=?A-Z^-~-]+)*|[[\\t -Z^-~]*])\"\n  )\n  const passwordRegex = new RegExp(\"(?=.*[A-Z])(?=.*[a-z])(?=.*?[0-9])\")\n\n  const togglePopup = () => {\n    setIsPopupActive(!isPopupActive)\n\n    setTimeout(() => {\n      navigate(`/login`)\n    }, 3000)\n  }\n\n  // Aktualizacja stanu inputów\n  const updateInput = e => {\n    setRegisterInfo({ ...registerInfo, [e.target.name]: e.target.value })\n  }\n\n  // Walidacja formularza\n  const validateForm = () => {\n    // e.preventDefault()\n    // errorInputsArray = []\n\n    // Walidacja nazwy uzytkownika\n    if (registerInfo[\"username\"] !== \"\") {\n      setErrorStatus(\"username\", true)\n      setIsValid(true)\n    } else {\n      setErrorStatus(\"username\")\n      setErrorMessage(\"Nazwa użytkownika nie może być pusta\")\n      setIsValid(false)\n    }\n\n    // Walidacja email\n    if (mailRegex.test(registerInfo[\"email\"])) {\n      setErrorStatus(\"email\", true)\n    } else {\n      setErrorStatus(\"email\")\n      setErrorMessage(\"Adres e-mail niepoprawny\")\n      setIsValid(false)\n    }\n    // Walidacja hasła\n    if (passwordRegex.test(registerInfo[\"confirm_password\"])) {\n      if (registerInfo[\"password\"] === registerInfo[\"confirm_password\"]) {\n        setErrorStatus(\"password\", true)\n        setErrorStatus(\"confirm_password\", true)\n      } else {\n        setErrorStatus(\"password\")\n        setErrorStatus(\"confirm_password\")\n        setErrorMessage(\"Hasło musi zawierać conajmniej 1 cyfrę i duza literę\")\n        setIsValid(false)\n        return false\n      }\n    } else if (registerInfo[\"password\"].length < 8) {\n      console.log(\"Haslo za krotkie\")\n      setErrorStatus(\"password\")\n      setErrorStatus(\"confirm_password\")\n      setErrorMessage(\"Hasło za krótkie, musi mieć conajmniej 8 znaków\")\n      setIsValid(false)\n      return false\n    } else {\n      setErrorStatus(\"password\")\n      setErrorStatus(\"confirm_password\")\n      setErrorMessage(\"Hasła się różnią\")\n      setIsValid(false)\n      return false\n    }\n\n  }\n\n  // Wysłanie zapytania z rejestracją\n  const registerUser = async e => {\n    e.preventDefault()\n\n    validateForm()\n    if (isValid) {\n      await axios\n        .post(`${process.env.STRAPI_URL}/auth/local/register`, registerInfo)\n        .then(() => {\n          togglePopup()\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  let errorInput = \"\"\n  // let errorInputsArray = []\n\n  const setErrorStatus = (inputName, remove = false) => {\n    if (typeof window !== \"undefined\") {\n      if (remove === true) {\n        document\n          .querySelector(`input[id='${inputName}']`)\n          .classList.remove(\"invalid\")\n      } else {\n        errorInput = document.querySelector(`input[id='${inputName}']`)\n        errorInput.classList.add(\"invalid\")\n        errorInput.setAttribute(\"className\", \"invalid\")\n        // errorInputsArray.push(errorInput)\n      }\n    }\n  }\n\n  return (\n    <JoinPanelWrapper>\n      <JoinHeader>Zarejestruj się.</JoinHeader>\n      <JoinForm>\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"username\"\n          content=\"Nazwa użytkownika\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"email\"\n          type=\"email\"\n          content=\"E-mail\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"password\"\n          type=\"password\"\n          content=\"Hasło\"\n        />\n        <FormField\n          onChange={e => updateInput(e)}\n          nameId=\"confirm_password\"\n          type=\"password\"\n          content=\"Powtórz hasło\"\n        />\n        <PasswordInfoText>\n          <QuestionIcon style={{ marginRight: \"1rem\" }} />\n          Hasło musi zawierać conajmniej 8 znaków w tym przynajmniej jedną cyfrę\n          i wielką literę\n        </PasswordInfoText>\n        {!isValid ? <ErrorText>{errorMessage}</ErrorText> : null}\n\n        <Button onClick={e => registerUser(e)} type=\"submit\" isLong>\n          Zarejestruj\n        </Button>\n      </JoinForm>\n      <JoinLink to=\"/login\">\n        Masz konto? <ColoredText>Zaloguj się.</ColoredText>\n      </JoinLink>\n      <NotificationPopup onClick={togglePopup} isActive={isPopupActive}>\n        Gratulacje, rejestracja przebiegła pomyślnie, zostaniesz przeniesiony na\n        stronę logowania\n      </NotificationPopup>\n    </JoinPanelWrapper>\n  )\n}\n\nexport default RegisterPanel\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport RegisterPanel from \"../components/organisms/RegisterPanel/RegisterPanel\"\n\nconst RegisterWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  margin-top: 7rem;\n  background-color: ${({ theme }) => theme.colors.base};\n\n  @media only screen and (min-width: 768px) {\n    padding: 3rem;\n  }\n`\n\nconst Register = () => {\n  return (\n    <RegisterWrapper>\n      <RegisterPanel />\n    </RegisterWrapper>\n  )\n}\n\nexport default Register\n","import { Link } from \"gatsby\"\nimport styled from \"styled-components\"\n\nexport const JoinPanelWrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  height: auto;\n  width: 100%;\n  padding: 3rem;\n  border-radius: ${({ theme }) => theme.otherStyles.smallRadius};\n  box-shadow: 3px 2px 10px -3px ${({ theme }) => theme.otherStyles.shadow};\n  background-color: ${({ theme }) => theme.colors.white};\n  overflow: hidden;\n\n  @media only screen and (min-width: 768px) {\n    height: auto;\n    max-width: 600px;\n  }\n`\nexport const JoinHeader = styled.p`\n  font-weight: 300;\n  font-size: 3.2rem;\n  color: ${({ theme }) => theme.colors.fontColor};\n`\nexport const JoinForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  padding-top: 2rem;\n\n  @media only screen and (min-width: 768px) {\n  }\n`\nexport const JoinLink = styled(Link)`\n  text-decoration: none;\n  color: ${({ theme }) => theme.colors.darkGrey};\n`\nexport const ColoredText = styled.span`\n  color: ${({ theme }) => theme.colors.accent};\n`\nexport const PasswordInfoText = styled.p`\n  display: flex;\n  align-items: flex-start;\n  color: ${({ theme }) => theme.colors.darkGrey};\n  font-size: 1.6rem;\n  margin-bottom: 1.6rem;\n`\n"],"names":["ErrorBox","styled","theme","otherStyles","smallRadius","colors","errorColor","white","ErrorIcon","BsExclamationCircle","children","Wrapper","isActive","fontColor","shadow","Title","accent","TextContainer","Text","PopupBtn","Button","base","onClick","isLong","useState","username","email","password","confirm_password","registerInfo","setRegisterInfo","errorMessage","setErrorMessage","isValid","setIsValid","isPopupActive","setIsPopupActive","mailRegex","RegExp","passwordRegex","togglePopup","setTimeout","navigate","updateInput","e","target","name","value","registerUser","preventDefault","setErrorStatus","test","length","console","log","axios","process","then","catch","err","errorInput","inputName","remove","window","document","querySelector","classList","add","setAttribute","FormField","onChange","nameId","content","type","style","marginRight","ErrorText","to","NotificationPopup","RegisterWrapper","JoinPanelWrapper","JoinHeader","JoinForm","JoinLink","Link","darkGrey","ColoredText","PasswordInfoText"],"sourceRoot":""}